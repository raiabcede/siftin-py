<!DOCTYPE html>
<html lang="en" dir="ltr" data-color-theme="Green_Theme" class="selected"
	data-layout="vertical" data-boxed-layout="full" data-card="shadow">

	<head>
		@@include("../partials/head.html")
		<title>Integrations - Siftin</title>
	</head>

	<body class="DEFAULT_THEME  bg-white dark:bg-dark">
		<main>
			<!--start the project-->
			<div id="main-wrapper" class="flex">

				<aside id="application-sidebar-brand"
					class="hs-overlay hs-overlay-open:translate-x-0 -translate-x-full xl:rtl:-translate-x-0 rtl:translate-x-full  left-0 rtl:left-auto rtl:right-0 transform hidden xl:block xl:translate-x-0 xl:end-auto xl:bottom-0 fixed top-0 with-vertical  left-sidebar transition-all duration-300 h-screen z-[2] flex-shrink-0 border-r rtl:border-l rtl:border-r-0 w-[270px] border-border dark:border-darkborder bg-white dark:bg-dark">
					@@include("../partials/sidebar.html",{ "page": "integrations" })
				</aside>
				<div class="page-wrapper w-full" role="main">
					<!--  Header Start -->
					<header
						class="sticky top-header top-0 inset-x-0 z-[1] flex flex-wrap md:justify-start md:flex-nowrap text-sm bg-white dark:bg-dark ">
					<div
						class="with-vertical w-full">@@include("../partials/header.html")</div>
					<div class="with-horizontal w-full">
						<div class="bg-white dark:bg-dark shadow-md dark:shadow-md">
							<div class="container">
								@@include("../partials/horizontal-header.html")
							</div>
						</div>
					</div>
					</header>
					<!--  Header End -->

					<!-- Horizontal Header Menu -->
					<aside class="with-horizontal lg:flex hidden">
						@@include("../partials/horizontal-sidebar.html", { "page": "integrations",
						})
					</aside>
					<!-- Horizontal Header Menu End -->

					<!-- Main Content -->
					<main class="h-full max-w-full pt-6">
						<div class="container full-container py-5">
							<!-- Page Title -->
							<div class="mb-8">
								<div class="mb-2">
									<h1 class="text-3xl font-bold text-dark dark:text-white mb-2">Integrations</h1>
									<p class="text-base text-link dark:text-darklink">Connect Siftin to your favorite CRM and automation tools</p>
								</div>
							</div>

							<!-- Integrations Grid -->
							<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
								<!-- HubSpot Integration Card -->
								<div class="card hover:shadow-lg transition-shadow">
									<div class="card-body">
										<div class="flex items-start justify-between mb-4">
											<div class="flex items-center gap-3">
												<div class="w-12 h-12 rounded-lg bg-lightprimary dark:bg-darkprimary flex items-center justify-center">
													<i class="ti ti-database text-2xl text-primary"></i>
												</div>
												<div>
													<h3 class="text-lg font-semibold text-dark dark:text-white">HubSpot</h3>
													<span class="px-2 py-1 text-xs font-medium rounded-md bg-lightsecondary dark:bg-darksecondary text-link dark:text-darklink">
														Not Connected
													</span>
												</div>
											</div>
										</div>
										<p class="text-sm text-link dark:text-darklink mb-4">
											Sync leads directly to your HubSpot CRM with custom field mapping
										</p>
										<button onclick="connectIntegration('hubspot')" class="btn btn-primary w-full cursor-pointer">
											Connect
										</button>
									</div>
								</div>

								<!-- Salesforce Integration Card -->
								<div class="card hover:shadow-lg transition-shadow">
									<div class="card-body">
										<div class="flex items-start justify-between mb-4">
											<div class="flex items-center gap-3">
												<div class="w-12 h-12 rounded-lg bg-lightprimary dark:bg-darkprimary flex items-center justify-center">
													<i class="ti ti-cloud text-2xl text-primary"></i>
												</div>
												<div>
													<h3 class="text-lg font-semibold text-dark dark:text-white">Salesforce</h3>
													<span class="px-2 py-1 text-xs font-medium rounded-md bg-lightsecondary dark:bg-darksecondary text-link dark:text-darklink">
														Not Connected
													</span>
												</div>
											</div>
										</div>
										<p class="text-sm text-link dark:text-darklink mb-4">
											Export leads to Salesforce with automated lead assignment rules
										</p>
										<button onclick="connectIntegration('salesforce')" class="btn btn-primary w-full cursor-pointer">
											Connect
										</button>
									</div>
								</div>

								<!-- Pipedrive Integration Card -->
								<div class="card hover:shadow-lg transition-shadow">
									<div class="card-body">
										<div class="flex items-start justify-between mb-4">
											<div class="flex items-center gap-3">
												<div class="w-12 h-12 rounded-lg bg-lightprimary dark:bg-darkprimary flex items-center justify-center">
													<i class="ti ti-chart-line text-2xl text-success"></i>
												</div>
												<div>
													<h3 class="text-lg font-semibold text-dark dark:text-white">Pipedrive</h3>
													<span class="px-2 py-1 text-xs font-medium rounded-md bg-lightsecondary dark:bg-darksecondary text-link dark:text-darklink">
														Not Connected
													</span>
												</div>
											</div>
										</div>
										<p class="text-sm text-link dark:text-darklink mb-4">
											Create deals and contacts in Pipedrive with custom stages
										</p>
										<button onclick="connectIntegration('pipedrive')" class="btn btn-primary w-full cursor-pointer">
											Connect
										</button>
									</div>
								</div>

								<!-- Zapier Integration Card -->
								<div class="card hover:shadow-lg transition-shadow">
									<div class="card-body">
										<div class="flex items-start justify-between mb-4">
											<div class="flex items-center gap-3">
												<div class="w-12 h-12 rounded-lg bg-lightprimary dark:bg-darkprimary flex items-center justify-center">
													<i class="ti ti-bolt text-2xl text-warning"></i>
												</div>
												<div>
													<h3 class="text-lg font-semibold text-dark dark:text-white">Zapier</h3>
													<span class="px-2 py-1 text-xs font-medium rounded-md bg-lightsecondary dark:bg-darksecondary text-link dark:text-darklink">
														Not Connected
													</span>
												</div>
											</div>
										</div>
										<p class="text-sm text-link dark:text-darklink mb-4">
											Connect to 3000+ apps through Zapier automation workflows
										</p>
										<button onclick="connectIntegration('zapier')" class="btn btn-primary w-full cursor-pointer">
											Connect
										</button>
									</div>
								</div>
							</div>

						</div>
					</main>
					<!-- Main Content End -->

				</div>
			</div>
			<!--end of project-->
		</main>
		@@include("../partials/header-components/mobile-menu.html")
		@@include("../partials/header-components/dd-searchbar.html")
		@@include("../partials/header-components/dd-cart.html")
		@@include("../partials/customizer.html")
		@@include("../partials/scripts.html")
		
		<script>
			// API Configuration
			const API_BASE_URL = 'http://localhost:8000';
			
			// Integration connection status
			let integrations = {
				hubspot: { connected: false },
				salesforce: { connected: false },
				pipedrive: { connected: false },
				zapier: { connected: false }
			};

			// Load integration status
			async function loadIntegrations() {
				try {
					// In a real app, you'd fetch from API
					// const response = await apiCall('/api/integrations');
					// integrations = response.integrations || integrations;
					
					updateIntegrationCards();
				} catch (error) {
					console.error('[Integrations] Error loading integrations:', error);
				}
			}

			// Update integration cards based on connection status
			function updateIntegrationCards() {
				// This would update the UI based on connection status
				// For now, all are "Not Connected"
			}

			// Connect integration
			function connectIntegration(integrationName) {
				// Show connection modal or redirect to OAuth flow
				alert(`Connecting to ${integrationName.charAt(0).toUpperCase() + integrationName.slice(1)}...\n\nIn production, this would open an OAuth flow or configuration modal.`);
				
				// Example: Redirect to OAuth or show modal
				// window.location.href = `/api/integrations/${integrationName}/connect`;
			}

			// Disconnect integration
			function disconnectIntegration(integrationName) {
				if (!confirm(`Are you sure you want to disconnect ${integrationName.charAt(0).toUpperCase() + integrationName.slice(1)}?`)) {
					return;
				}
				
				// Disconnect logic
				alert(`Disconnecting from ${integrationName.charAt(0).toUpperCase() + integrationName.slice(1)}...`);
			}

			// Initialize on page load
			document.addEventListener('DOMContentLoaded', function() {
				loadIntegrations();
			});
		</script>
	</body>
</html>
